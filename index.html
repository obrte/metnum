<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Metodos Numericos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- bootstrap -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="./css/vuetify.min.css" rel="stylesheet">
    <script src="./js/jquery-1.11.3.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

</head>

<body>
    <div id="app">
        <v-app id="inspire" dark>
            <v-navigation-drawer clipped fixed v-model="drawer" app>
                <v-list dense>
                    <v-list-tile @click="">
                        <v-list-tile-action>
                            <v-icon>dashboard</v-icon>
                        </v-list-tile-action>
                        <v-list-tile-content>
                            <v-list-tile-title>Bisecci√≥n</v-list-tile-title>
                        </v-list-tile-content>
                    </v-list-tile>
                    <v-list-tile @click="">
                        <v-list-tile-action>
                            <v-icon>settings</v-icon>
                        </v-list-tile-action>
                        <v-list-tile-content>
                            <v-list-tile-title>Settings</v-list-tile-title>
                        </v-list-tile-content>
                    </v-list-tile>
                </v-list>
            </v-navigation-drawer>
            <v-toolbar app fixed clipped-left>
                <v-toolbar-side-icon @click.stop="drawer = !drawer"></v-toolbar-side-icon>
                <v-toolbar-title>Menu</v-toolbar-title>
            </v-toolbar>
            <v-content>
                <v-layout row wrap>
                    <v-flex xs12 sm2 md2 pl-3 pt-4>
                        <v-text-field label="f(x) =" outline v-model="funDeXs"></v-text-field>
                    </v-flex>
                    <v-flex xs12 sm2 md2 pl-3 pt-4>
                        <v-text-field label="Xi =" outline v-model="Xi"></v-text-field>
                    </v-flex>
                    <v-flex xs12 sm2 md2 pl-3 pt-4>
                        <v-text-field label="Xf =" outline v-model="Xf"></v-text-field>
                    </v-flex>
                    <v-flex xs12 sm1 md1 pt-2 pl-3>
                        <v-btn fab dark large color="light-green" @click="resolver">
                            <v-icon dark>subdirectory_arrow_left</v-icon>
                        </v-btn>
                    </v-flex>

                </v-layout>
                <template>
                    <v-data-table :headers="headers" :items="evaluacion" hide-actions class="elevation-1">
                        <template slot="items" slot-scope="props">
                            <td>{{ props.item.numero }}</td>
                            <td class="text-xs-left">{{ props.item.Xi }}</td>
                            <td class="text-xs-left">{{ props.item.Xf }}</td>
                            <td class="text-xs-left">{{ props.item.Xm }}</td>
                            <td class="text-xs-left">{{ props.item.fXi }}</td>
                            <td class="text-xs-left">{{ props.item.fXm }}</td>
                            <td class="text-xs-left">{{ props.item.fXifXm }}</td>
                            <td class="text-xs-left">{{ props.item.Er }}</td>
                        </template>
                        <template slot="no-data">
                            <v-alert :value="true" color="error" icon="warning">
                                Verifique los datos de entrada!!
                            </v-alert>
                        </template>
                    </v-data-table>
                </template>

            </v-content>
            <v-footer app fixed>
                <span>&copy; 2018 Bracamonte</span>
            </v-footer>
        </v-app>
    </div>

    <script src="./js/math.js"></script>
    <script src="./js/vue.js"></script>
    <script src="./js/vuetify.js"></script>
    <script>
        var app = new Vue({
            el: '#app',
            data: () => ({
                drawer: false,
                funDeXs: '',
                Xi: '',
                Xf: '',
                a: '',
                b: '',
                m: '',
                // Xi: '',
                // Xf: '',
                // Xm: '',
                // fXifXm: '',
                evaluacion: [],
                headers: [{
                        text: '#',
                        align: 'left',
                        sortable: false,
                        value: 'name'
                    },
                    {
                        text: 'Xi',
                        sortable: false,
                        value: 'Xi'
                    },
                    {
                        text: 'Xf',
                        sortable: false,
                        value: 'Xf'
                    },
                    {
                        text: 'Xm',
                        sortable: false,
                        value: 'Xm'
                    },
                    {
                        text: 'f(Xi)',
                        sortable: false,
                        value: 'fXi'
                    },
                    {
                        text: 'f(Xm)',
                        sortable: false,
                        value: 'fXm'
                    },
                    {
                        text: 'f(Xi)*f(Xm)',
                        sortable: false,
                        value: 'fXifXm'
                    },
                    {
                        text: 'Er',
                        sortable: false,
                        value: 'Er'
                    }
                ],


            }),
            watch: {},
            methods: {
                resolver() {
                    var cont = 1
                    var eR = 100
                    this.a = this.Xi
                    this.b = this.Xf
                    this.m = this.puntoMedio()
                    // this.fXi = this.evaluarXi,
                    // this.fXm = this.evaluarXm,
                    // this.fXifXm = this.evaluarXiXn

                    this.evaluacion.push({
                        numero: cont,
                        Xi: this.a,
                        Xf: this.b,
                        Xm: this.m,
                        fXi: this.evaluarXi(),
                        fXm: this.evaluarXm(),
                        fXifXm: this.evaluarXiXn()

                    })
                    // while (eR > 1) {


                    // }


                    // (xi, xf)
                    // m = (xi, xf) / 2
                    // Er = (|Xmn - Xmv|/Xmn) * 100


                },
                puntoMedio() {
                    return (parseFloat(this.a) + parseFloat(this.b)) / 2
                },
                evaluarXi() {
                    return math.eval(this.funDeXs.toLowerCase().replace('x', this.a))
                },
                evaluarXm() {
                    return math.eval(this.funDeXs.toLowerCase().replace('x', this.b))
                },
                evaluarXiXn() {
                    return (math.eval(this.funDeXs.toLowerCase().replace('x', this.a)) * math.eval(this.funDeXs
                        .toLowerCase().replace('x', this.m)))
                }
            },

            props: {
                source: String
            }
        })
    </script>
</body>

</html>